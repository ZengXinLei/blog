{"version":3,"sources":["webpack:///./src/api/draft.js","webpack:///./src/components/alert/alert.vue?9700","webpack:///./src/api/article.js","webpack:///./src/views/markdown/markdown.vue?a6ca","webpack:///./src/views/markdown/option.js","webpack:///./src/components/alert/alert.vue?4f59","webpack:///src/components/alert/alert.vue","webpack:///./src/components/alert/alert.vue?3cf1","webpack:///./src/components/alert/alert.vue","webpack:///src/views/markdown/markdown.vue","webpack:///./src/views/markdown/markdown.vue?9aac","webpack:///./src/views/markdown/markdown.vue","webpack:///./src/views/markdown/markdown.vue?cddc","webpack:///./src/utils/parseTime.js"],"names":["saveDrafts","data","cookieLogin","JSON","parse","getToken","request","url","method","getDraftList","start","offset","qs","stringify","deleteDraft","did","getDraftById","getDraftPages","getTimeCount","getArticleList","aType","getArticlePages","getArticleById","aId","saveArticle","article","deleteArticle","publishArticle","getArticleTimeCount","getAllType","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","value","draft","callback","$$v","$set","expression","_v","staticStyle","_l","tag","index","key","on","$event","deletetag","_s","ref","test","saveDraft","dialog","nativeOn","type","indexOf","_k","keyCode","enter","t","addTag","staticRenderFns","toolbars","bold","italic","header","underline","strikethrough","mark","superscript","subscript","quote","ol","ul","link","imagelink","code","table","fullscreen","readmodel","htmlcode","help","undo","redo","trash","save","navigation","alignleft","aligncenter","alignright","subfield","preview","title","c","component","parseTime","timestamp","Math","floor","Date","getTime","day_num","toJSON","substr","replace","hour","minute","computedTime","tmp","length","sort","p","m","n","a","b","end","i","day","push","splice","tmp_day","split","count","time"],"mappings":"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","file":"admin/static/js/chunk-fcc51d50.8be985db.js","sourcesContent":["import request from '@/utils/request'\r\nimport qs from 'querystring'\r\nimport {cookieLogin} from \"@/api/user\";\r\nimport {getToken} from \"@/utils/auth\";\r\n\r\nexport function saveDrafts(data) {\r\n  cookieLogin(JSON.parse(getToken()))\r\n  return request({\r\n    url:\"/saveDrafts\",\r\n    method:\"post\",\r\n    data:data\r\n  })\r\n\r\n}\r\nexport function getDraftList(start,offset) {\r\n  cookieLogin(JSON.parse(getToken()))\r\n  return request({\r\n    url:\"/getDraftList\",\r\n    method:\"post\",\r\n    data:qs.stringify({\r\n      start:start,\r\n      offset:offset\r\n    })\r\n  })\r\n\r\n}\r\nexport function deleteDraft(did) {\r\n  cookieLogin(JSON.parse(getToken()))\r\n  return request({\r\n    url: \"/deleteDraft\",\r\n    method: \"post\",\r\n    data: qs.stringify({\r\n      did: did\r\n    })\r\n  })\r\n}\r\n\r\n\r\nexport function getDraftById(did) {\r\n  cookieLogin(JSON.parse(getToken()))\r\n  return request({\r\n    url:'/getDraftById',\r\n    method:\"post\",\r\n    data:qs.stringify({\r\n      did:did\r\n    })\r\n  })\r\n}\r\nexport function getDraftPages() {\r\n  cookieLogin(JSON.parse(getToken()))\r\n  return request({\r\n    url:'/getDraftPages',\r\n    method:'post',\r\n\r\n  })\r\n}\r\n\r\nexport function getTimeCount() {\r\n  cookieLogin(JSON.parse(getToken()))\r\n  return request({\r\n    url:'/getTimeCount',\r\n    method:'post',\r\n\r\n  })\r\n}\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./alert.vue?vue&type=style&index=0&id=022bbf60&scoped=true&lang=css&\"","import request from '@/utils/request'\r\nimport qs from 'querystring'\r\nimport {cookieLogin} from \"@/api/user\";\r\nimport {getToken} from \"@/utils/auth\";\r\nexport function getArticleList(start,offset) {\r\n  cookieLogin(JSON.parse(getToken()))\r\n  return request({\r\n    url:\"/getArticleList\",\r\n    method:\"post\",\r\n    data:qs.stringify({\r\n      start:start,\r\n      offset:offset,\r\n      aType:\"\"\r\n    })\r\n  })\r\n\r\n}\r\n\r\nexport function getArticlePages() {\r\n  return request({\r\n    url:\"/getArticlePages\",\r\n    method:\"post\",\r\n    data:qs.stringify({\r\n      aType:\"\"\r\n    })\r\n\r\n  })\r\n}\r\nexport function getArticleById(aId) {\r\n  cookieLogin(JSON.parse(getToken()))\r\n  return request({\r\n    url:\"/getArticleById\",\r\n    method:\"post\",\r\n    data:qs.stringify({\r\n      aId:aId\r\n    })\r\n  })\r\n}\r\n\r\nexport function saveArticle(article) {\r\n  cookieLogin(JSON.parse(getToken()))\r\n  return request({\r\n    url:\"/saveArticle\",\r\n    method:\"post\",\r\n    data:article\r\n  })\r\n}\r\nexport function deleteArticle(aId) {\r\n  cookieLogin(JSON.parse(getToken()))\r\n  return request({\r\n    url:\"/deleteArticle\",\r\n    method:\"post\",\r\n    data:qs.stringify({\r\n      aId:aId\r\n    })\r\n  })\r\n\r\n}\r\n\r\nexport function publishArticle(article) {\r\n  cookieLogin(JSON.parse(getToken()))\r\n  return request({\r\n    url:\"/publishArticle\",\r\n    method:\"post\",\r\n    data:article\r\n  })\r\n\r\n}\r\n\r\nexport function getArticleTimeCount() {\r\n  cookieLogin(JSON.parse(getToken()))\r\n  return request({\r\n    url:'/getArticleTimeCount',\r\n    method:'post',\r\n\r\n  })\r\n}\r\n\r\n\r\nexport function getAllType() {\r\n\r\n  return request({\r\n    url:\"/getAllType\",\r\n    method:\"post\"\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"components-container\"},[_c('div',{staticClass:\"editor-container\"},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"输入文章标题\",\"maxlength\":\"100\",\"minlength\":\"5\",\"show-word-limit\":\"\"},model:{value:(_vm.draft.dtitle),callback:function ($$v) {_vm.$set(_vm.draft, \"dtitle\", $$v)},expression:\"draft.dtitle\"}}),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin-bottom\":\"10px\"}},[_c('el-col',{attrs:{\"span\":18}}),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":2,\"offset\":1}}),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":2,\"offset\":1}})],1),_vm._v(\" \"),_c('el-row',[_c('el-col',_vm._l((_vm.tags),function(tag,index){return _c('el-tag',{key:index,staticStyle:{\"margin\":\"10px\"},attrs:{\"closable\":\"\",\"type\":\"success\",\"effect\":\"dark\"},on:{\"close\":function($event){return _vm.deletetag(index)}}},[_vm._v(_vm._s(tag))])}),1)],1),_vm._v(\" \"),_c('mavon-editor',{ref:\"mavon\",staticStyle:{\"z-index\":\"0\",\"min-height\":\"500px\"},on:{\"change\":_vm.test,\"save\":_vm.saveDrafts},model:{value:(_vm.draft.dtext),callback:function ($$v) {_vm.$set(_vm.draft, \"dtext\", $$v)},expression:\"draft.dtext\"}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"20px\",\"float\":\"right\"}},[_c('el-button',{on:{\"click\":_vm.saveDraft}},[_vm._v(\"保存草稿\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){_vm.dialog=!_vm.dialog}}},[_vm._v(\"发布文章\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.dialog,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialog=$event}}},[_vm._l((_vm.tags),function(tag,index){return _c('el-tag',{key:index,staticStyle:{\"margin\":\"10px\"},attrs:{\"closable\":\"\",\"type\":\"success\",\"effect\":\"dark\"},on:{\"close\":function($event){return _vm.deletetag(index)}}},[_vm._v(_vm._s(tag))])}),_vm._v(\" \"),_c('el-input',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"placeholder\":\"输入标签，回车确认\"},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.enter($event)}},model:{value:(_vm.t),callback:function ($$v) {_vm.t=$$v},expression:\"t\"}}),_vm._v(\" \"),_c('el-row',[_c('el-col',_vm._l((_vm.alltags),function(tag,index){return _c('el-tag',{key:index,staticStyle:{\"margin\":\"6px\",\"cursor\":\"pointer\"},attrs:{\"type\":\"info\"},on:{\"click\":function($event){return _vm.addTag(tag)}}},[_vm._v(_vm._s(tag))])}),1)],1),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":_vm.publishArticle}},[_vm._v(\"确认发布\")])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const toolbars= {\r\n  bold: true, // 粗体\r\n  italic: true, // 斜体\r\n  header: true, // 标题\r\n  underline: true, // 下划线\r\n  strikethrough: true, // 中划线\r\n  mark: true, // 标记\r\n  superscript: true, // 上角标\r\n  subscript: true, // 下角标\r\n  quote: true, // 引用\r\n  ol: true, // 有序列表\r\n  ul: true, // 无序列表\r\n  link: true, // 链接\r\n  imagelink: true, // 图片链接\r\n  code: true, // code\r\n  table: true, // 表格\r\n  fullscreen: true, // 全屏编辑\r\n  readmodel: true, // 沉浸式阅读\r\n  htmlcode: true, // 展示html源码\r\n  help: true, // 帮助\r\n  /* 1.3.5 */\r\n  undo: true, // 上一步\r\n  redo: true, // 下一步\r\n  trash: true, // 清空\r\n  save: true, // 保存（触发events中的save事件）\r\n  /* 1.4.2 */\r\n  navigation: true, // 导航目录\r\n  /* 2.1.8 */\r\n  alignleft: true, // 左对齐\r\n  aligncenter: true, // 居中\r\n  alignright: true, // 右对齐\r\n  /* 2.2.1 */\r\n  subfield: true, // 单双栏模式\r\n  preview: true, // 预览\r\n\r\n}\r\nexport default {\r\n  toolbars\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"background-color\":\"#fef0f0\",\"color\":\"#F56c6c\",\"padding\":\"5px 15px\",\"border-radius\":\"8px 8px 8px 8px\"}},[_vm._v(_vm._s(_vm.title)),_c('i',{staticClass:\"el-icon-close i\",staticStyle:{\"color\":\"grey\",\"float\":\"right\"},on:{\"click\":_vm.c}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div  style=\"background-color: #fef0f0;color: #F56c6c;padding: 5px 15px;border-radius: 8px 8px 8px 8px\">{{title}}<i @click=\"c\" class=\"el-icon-close i\" style=\"color: grey;float:right\"></i> </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"alert\",\r\n      props:[\"title\",\"index\"],\r\n      methods:{\r\n          c:function () {\r\n            this.$emit(\"deletetag\",this.index)\r\n          }\r\n      }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n.i:hover{\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./alert.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./alert.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./alert.vue?vue&type=template&id=022bbf60&scoped=true&\"\nimport script from \"./alert.vue?vue&type=script&lang=js&\"\nexport * from \"./alert.vue?vue&type=script&lang=js&\"\nimport style0 from \"./alert.vue?vue&type=style&index=0&id=022bbf60&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"022bbf60\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"components-container\">\r\n\r\n    <div class=\"editor-container\">\r\n      <el-input type=\"text\" v-model=\"draft.dtitle\" placeholder=\"输入文章标题\" maxlength=\"100\" minlength=\"5\"\r\n                show-word-limit></el-input>\r\n      <el-row style=\"margin-bottom: 10px\">\r\n        <el-col :span=\"18\">\r\n\r\n        </el-col>\r\n        <el-col :span=\"2\" :offset=\"1\">\r\n\r\n        </el-col>\r\n        <el-col :span=\"2\" :offset=\"1\">\r\n\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col>\r\n          <el-tag\r\n            v-for=\"(tag,index) in tags\"\r\n            :key=\"index\"\r\n            closable\r\n            type=\"success\"\r\n            @close=\"deletetag(index)\"\r\n            style=\"margin: 10px\"\r\n            effect=\"dark\"\r\n          >{{tag}}</el-tag>\r\n        </el-col>\r\n      </el-row>\r\n<!--        <MarkdownPro v-if=\"false\"-->\r\n<!--          :autoSave=\"true\"-->\r\n<!--          :interval=\"60000\"-->\r\n<!--          @on-save=\"saveDrafts\"-->\r\n<!--          style=\"margin-top: 20px;\"-->\r\n<!--          ref=\"markdownEditor\"-->\r\n<!--          v-model=\"draft.dtext\"-->\r\n<!--          :language=\"language\"-->\r\n<!--          :toolbars=\"options\"/>-->\r\n      <mavon-editor style=\"z-index: 0;min-height: 500px\" ref=\"mavon\" v-model=\"draft.dtext\" @change=\"test\" @save=\"saveDrafts\"></mavon-editor>\r\n      <div style=\"margin-top: 20px;float:right\">\r\n        <el-button @click=\"saveDraft\">保存草稿</el-button>\r\n        <el-button type=\"danger\" @click=\"dialog=!dialog\">发布文章</el-button>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <el-dialog\r\n      :visible.sync=\"dialog\"\r\n      width=\"30%\"\r\n    >\r\n\r\n<!--          <el-alert v-for=\"(tag,index) in tags\"-->\r\n<!--                    :key=\"index\"-->\r\n<!--                    :title=\"tag\" :type=\"index%2===0?'error':'success'\"-->\r\n<!--                    @close=\"deletetag(index)\"-->\r\n<!--                    style=\"margin-top: 10px\"></el-alert>-->\r\n<!--      <el-row >-->\r\n<!--        <el-col :span=\"8\" >-->\r\n<!--          <alert v-for=\"(tag,index) in tags\"-->\r\n<!--                 :title=\"tag\"-->\r\n<!--                 :index=\"index\"-->\r\n<!--                 @deletetag=\"deletetag\"-->\r\n<!--                 style=\"float: left;display: inline;margin: 5px\"-->\r\n<!--          ></alert>-->\r\n          <el-tag\r\n            v-for=\"(tag,index) in tags\"\r\n            :key=\"index\"\r\n            closable\r\n            type=\"success\"\r\n            @close=\"deletetag(index)\"\r\n            style=\"margin: 10px\"\r\n            effect=\"dark\"\r\n          >{{tag}}</el-tag>\r\n<!--        </el-col>-->\r\n<!--      </el-row>-->\r\n\r\n      <el-input v-model=\"t\" @keydown.enter.native=\"enter\" placeholder=\"输入标签，回车确认\" style=\"margin-top: 20px; \"></el-input>\r\n\r\n      <el-row>\r\n        <el-col>\r\n          <el-tag\r\n            v-for=\"(tag,index) in alltags\"\r\n            :key=\"index\"\r\n            type=\"info\"\r\n            @click=\"addTag(tag)\"\r\n            style=\"margin: 6px;cursor: pointer\"\r\n          >{{tag}}</el-tag>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-button @click=\"publishArticle\" size=\"small\" type=\"danger\" style=\"margin-top: 20px;\">确认发布</el-button>\r\n\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  // import MarkdownEditor from '@/components/MarkdownEditor'\r\n  import {MarkdownPro} from 'vue-meditor'\r\n  import option from \"@/views/markdown/option\";\r\n  import {saveDrafts, getDraftById, deleteDraft} from \"@/api/draft\"\r\n  import {getAllType, getArticleById, publishArticle, saveArticle} from \"@/api/article\";\r\n  import {transitionTimestamp} from \"@/utils/parseTime\";\r\n  import Alert from \"@/components/alert/alert\";\r\n  import mavonEditor from 'mavon-editor'\r\n  import 'mavon-editor/dist/css/index.css'\r\n  export default {\r\n    name: 'MarkdownDemo',\r\n    components: {Alert, MarkdownPro},\r\n    data() {\r\n      return {\r\n        t: \"\",\r\n        tags:[],\r\n        alltags:[],\r\n        dialog: false,\r\n        options: option,\r\n        article: {},\r\n        draft: {},\r\n        languageTypeList: {\r\n          'en': 'en_US',\r\n          'zh': 'zh_CN',\r\n          'es': 'es_ES'\r\n        }\r\n      }\r\n    },\r\n    mounted() {\r\n      let path = window.location.href.split(\"/\").splice(-1)[0]\r\n      getAllType().then(res=>{\r\n        this.alltags=res.data\r\n      })\r\n      if (path === \"markdown\") {\r\n        return\r\n      }\r\n      let did = window.location.href.split(\"/\").splice(-1)[0]\r\n      if (did.length < 10) {\r\n        getArticleById(did).then(res => {\r\n          if (res.data.type === \"error\") {\r\n            this.$router.push(\"/404\")\r\n          }\r\n          this.draft = {\r\n            dtext: res.data.aText,\r\n            dtitle: res.data.aTitle\r\n          }\r\n          this.article = res.data\r\n          if(this.article.aType!==undefined&&this.article.aType!==null){\r\n            this.tags=this.article.aType.split(\"|\")\r\n          }\r\n        })\r\n      } else {\r\n        getDraftById(did).then(res => {\r\n\r\n          if (res.data.type === \"error\") {\r\n            this.$router.push(\"/404\")\r\n          }\r\n          let data = res.data.draft\r\n\r\n          this.draft = data\r\n        })\r\n      }\r\n\r\n\r\n    },\r\n    // watch: {\r\n    //   t: function () {\r\n    //     let tags = this.article.aType\r\n    //     if (tags === undefined||tags === null) {\r\n    //       return\r\n    //     }\r\n    //     this.tags=tags.split('|')\r\n    //\r\n    //   }\r\n    // },\r\n    computed: {\r\n      language() {\r\n        return this.languageTypeList['en']\r\n      },\r\n\r\n    },\r\n    methods: {\r\n      test:function(v,r){\r\n        this.draft.dtext=v\r\n        this.draft.dhtml=r\r\n        this.article.aText=v\r\n        this.article.aHtml=r\r\n      },\r\n      judge:function(tag){\r\n        if(tag===\"\"){\r\n          return\r\n        }\r\n        for (let i = 0; i < this.tags.length; i++) {\r\n          if(tag===this.tags[i]){\r\n            this.$notify.error({\r\n              \"message\":\"标签已添加，不能重复添加\"\r\n            })\r\n            return false\r\n          }\r\n        }\r\n        return true\r\n      },\r\n      addTag:function(tag){\r\n        if(this.judge(tag)){\r\n          this.tags.push(tag)\r\n        }\r\n\r\n      },\r\n      enter: function () {\r\n        if(this.judge(this.t)) {\r\n          this.tags.push(this.t)\r\n        }\r\n        this.t = \"\"\r\n      },\r\n\r\n      deletetag:function(index){\r\n        console.log(index)\r\n        this.tags.splice(index,1)\r\n\r\n        console.log(this.tags.join(\"|\"))\r\n      },\r\n      publishArticle() {\r\n        this.article.aText = this.draft.dtext\r\n        this.article.aHtml = this.draft.dhtml\r\n        this.article.aTitle = this.draft.dtitle\r\n        if(this.judge(this.t)){\r\n          this.tags.push(this.t)\r\n        }\r\n        if(this.tags.length!==0){\r\n          this.article.aType=this.tags.join(\"|\")\r\n        }else {\r\n          this.article.aType=null\r\n        }\r\n        if (this.article.aTitle === undefined || this.article.aTitle < 5) {\r\n          this.$notify.error({\r\n            \"message\": \"标题不能少于五个字\"\r\n          })\r\n          return\r\n        }\r\n\r\n        if (this.article.aId === undefined) {\r\n          publishArticle(this.article).then(res => {\r\n            this.$notify({\r\n              \"type\": res.data.type,\r\n              \"message\": res.data.message\r\n            })\r\n            if (res.data.type === \"success\") {\r\n              deleteDraft(this.draft.did)\r\n              this.$router.push(\"/admin\")\r\n            }\r\n          })\r\n        } else {\r\n\r\n          saveArticle(this.article).then(res => {\r\n            this.$notify({\r\n              \"type\": res.data.type,\r\n              \"message\": res.data.msg\r\n            })\r\n            if (res.data.type === \"success\") {\r\n              deleteDraft(this.draft.did)\r\n              this.$router.push(\"/admin\")\r\n            }\r\n          })\r\n        }\r\n      },\r\n      saveDrafts(v,r) {\r\n\r\n        // let text = this.draft.dtext\r\n        // let html = this.draft.dhtml\r\n\r\n        this.draft['dtext'] = v\r\n        this.draft[\"dhtml\"] = r\r\n        this.saveDraft()\r\n\r\n\r\n      },\r\n      saveDraft(){\r\n        if (this.draft.dtitle === undefined || this.draft.dtitle.length < 5) {\r\n          this.$notify.error({\r\n            message: \"标题不能低于五个字符\"\r\n          })\r\n          return\r\n        }\r\n        saveDrafts(this.draft).then(res => {\r\n          this.$notify({\r\n            type: res.data.type,\r\n            message: res.data.msg\r\n          })\r\n          this.draft = res.data.draft\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .editor-container {\r\n    margin-bottom: 30px;\r\n  }\r\n\r\n  .tag-title {\r\n    margin-bottom: 5px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./markdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./markdown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./markdown.vue?vue&type=template&id=27150507&scoped=true&\"\nimport script from \"./markdown.vue?vue&type=script&lang=js&\"\nexport * from \"./markdown.vue?vue&type=script&lang=js&\"\nimport style0 from \"./markdown.vue?vue&type=style&index=0&id=27150507&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27150507\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./markdown.vue?vue&type=style&index=0&id=27150507&scoped=true&lang=css&\"","export function parseTime(timestamp) {\r\n  let t = Math.floor(new Date().getTime() / 1000)\r\n\r\n  t = t - timestamp\r\n  const day_num = Math.floor(t / (24 * 3600))\r\n  if (day_num >= 1) {\r\n    if (day_num > 30) {\r\n      return new Date(timestamp * 1000 + 8 * 3600 * 1000).toJSON().substr(0, 19).replace('T', ' ')\r\n    }\r\n    return day_num + '天前'\r\n  }\r\n  const hour = Math.floor(t / (3600))\r\n  if (hour >= 1) {\r\n    return hour + '小时前'\r\n  }\r\n  const minute = Math.floor(t / (60))\r\n\r\n  if (minute >= 1) {\r\n    return minute + '分钟前'\r\n  }\r\n  return '刚刚'\r\n}\r\n\r\nexport function computedTime(data) {\r\n  // debugger\r\n  const tmp = []\r\n  if (data.length === 0) {\r\n    return []\r\n  }\r\n  data.sort((function(p) {\r\n    return function(m, n) {\r\n      const a = new Date(m[p].replace(/-/g, '/')).getTime() / 1000\r\n      const b = new Date(n[p].replace(/-/g, '/')).getTime() / 1000\r\n      return a - b\r\n    }\r\n  })('time'))\r\n\r\n  const start = new Date(data[0]['time'].replace(/-/g, '/')).getTime() / 1000\r\n  const end = new Date().getTime() / 1000\r\n\r\n  for (let i = 0; i <= (end - start) / (3600 * 24); i++) {\r\n    const day = start + i * (3600 * 24)\r\n\r\n    if (data.length !== 0 && new Date(data[0]['time'].replace(/-/g, '/')).getTime() / 1000 === day) {\r\n      tmp.push(data[0])\r\n\r\n      data.splice(0, 1)\r\n    } else {\r\n      const tmp_day = new Date(day * 1000 + 8 * 3600 * 1000).toJSON().substr(0, 19).replace('T', ' ').split(' ')[0]\r\n      tmp.push({\r\n        count: 0,\r\n        time: tmp_day\r\n\r\n      })\r\n    }\r\n  }\r\n\r\n  return tmp\r\n}\r\n\r\n"],"sourceRoot":""}